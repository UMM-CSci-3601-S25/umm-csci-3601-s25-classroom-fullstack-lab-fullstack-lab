<div class="flex-row">
  <div class="flex-1">

    <mat-card class="search-card">
      <mat-card-header>
        <mat-card-title class="todoListTitle">Todos</mat-card-title>
      </mat-card-header>
      <mat-card-content>

        <div class="flex-row gap-8 flex-wrap">
          <!-- Examples of filtering in Angular -->

          <mat-form-field class="input-field">
            <mat-label>Owner</mat-label>
            <input matInput data-test="todoOwnerFilter" placeholder="Filter by owner"
              [(ngModel)]="todoOwner">
            <mat-hint>Filtered on client</mat-hint>
          </mat-form-field>



          <mat-form-field class="input-field">
            <mat-label>Category</mat-label>
            <input matInput data-test="todoCategoryFilter" placeholder="Filter by category"
             [(ngModel)]="todoCategory">
            <mat-hint>Filtered on client</mat-hint>
          </mat-form-field>

          <mat-form-field class="input-field">
            <mat-label>Status</mat-label>
            <input matInput data-test="todoStatusFilter" placeholder="Filter by status"
             [(ngModel)]="todoStatus">
            <mat-hint>Filtered on client</mat-hint>
          </mat-form-field>

          <mat-form-field class="input-field">
            <mat-label>Body</mat-label>
            <input matInput data-test="todoBodyFilter" placeholder="Filter by Body"
             [(ngModel)]="todoBody">
            <mat-hint>Filtered on client</mat-hint>
          </mat-form-field>

        </div>


        <div class="flex-row gap-8 flex-wrap">
          <!-- Examples of filtering on the server -->

          <mat-form-field class="input-field">
            <mat-label>Category</mat-label>
            <mat-select [(ngModel)]="todoCategory" data-test="todoCategorySelect">
              <mat-option>--</mat-option>
              <mat-option value="video games">Video games</mat-option>
              <mat-option value="groceries">Groceries</mat-option>
              <mat-option value="homework">Homework</mat-option>
              <mat-option value="software design">Software design</mat-option>

            </mat-select>
            <mat-hint>Filtered on server</mat-hint>
          </mat-form-field>

        </div>

        <div data-test="todoListTitle">Todos</div>
        <div class="flex-row">
          @if (serverFilteredTodos()) {
            <ol>
              @for (todo of filteredTodos(); track todo._id) {
                <li data-test="todo"><div data-test="todoOwner">{{ todo.owner }}</div>
                  <ul>
                    <li>Category:<div data-test="todoCategory">{{ todo.category }}</div>
                     </li>
                      <li data-test="todo"><div data-test="todoBody">{{ todo.body }}</div>
                        <li data-test="todo"><div data-test="todoStatus">{{ todo.status }}</div>
                  </ul>
                </li>
              }

            </ol>
          } @else {
            <div class="flex-1" class="todo-error">
              <mat-error>
                There was a problem loading the todos. Possibly the server is down or perhaps there are network
                issues.
              </mat-error>
              <mat-error>
                Please wait a bit and try again or start the server.
              </mat-error>
            </div>
          }
        </div>






        </mat-card-content>
      </mat-card>
    </div>
  </div>




    <!-- Maybe this should be a pop-up instead of just a text message? Not sure. -->



  <button mat-fab class="add-todo-fab" matTooltip="Add Todo" matTooltipPosition="left" routerLink="/users/new" data-test="addUserButton">
    <mat-icon class="md-24" aria-label="Add Todo">add</mat-icon>
  </button>
